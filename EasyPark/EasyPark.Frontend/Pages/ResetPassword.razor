@page "/reset-password"
@attribute [Authorize]

@using EasyPark.Frontend.Services
@inject AuthService AuthService
@inject NavigationManager Navigation

<style>
    .mud-input-label {
        color: #011E30 !important; 
    }

    .mud-input-root input {
        color: #011E30 !important;
        background-color: #011E30 !important; 
    }

    .mud-input-adornment-start svg {
        color: #011E30 !important;
    }

    .mud-input-root.mud-input-focused input {
        background-color: #011E30 !important;
        color: #011E30 !important;
    }

    .mud-button-filled-primary {
        background-color: #00C9FF !important; 
        color: white !important;
    }

    .mud-link {
        color: #00C9FF !important; 
        cursor: pointer;
    }
</style>

<div style="
    background: linear-gradient(135deg, #f0f4ff, #fafafa);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding-top: 60px;
">

    <MudPaper Class="pa-6 mx-auto" Width="420px" Elevation="6" Rounded="true">

        <div class="d-flex align-center mb-4 justify-center">
            <MudIcon Icon="@Icons.Material.Filled.VpnKey" Color="Color.Primary" Size="Size.Large" Class="me-2" />
            <MudText Typo="Typo.h5" Style="color: #00C9FF;">Restablecer Contraseña</MudText>
        </div>

        <MudText Typo="Typo.subtitle2" Style="color: #011E30;" Align="Align.Center" Class="mb-6">
            Ingrese y confirme su nueva contraseña para el sistema del parqueadero.
        </MudText>

        <MudTextField T="string"
                      Label="Nueva contraseña"
                      InputType="InputType.Password"
                      Variant="Variant.Outlined"
                      FullWidth="true"
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.Lock"
                      Class="mb-4" />

        <MudTextField T="string"
                      Label="Confirmar contraseña"
                      InputType="InputType.Password"
                      Variant="Variant.Outlined"
                      FullWidth="true"
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Icons.Material.Filled.LockReset"
                      Class="mb-4" />

        <MudButton Variant="Variant.Filled"
                   Color="Color.Primary"
                   StartIcon="@Icons.Material.Filled.CheckCircle"
                   Class="mt-4"
                   FullWidth="true">
            Restablecer Contraseña
        </MudButton>

        <div class="d-flex justify-center mt-4">
            <MudText Typo="Typo.caption" Style="color: #011E30;">
                ¿Recordó su contraseña?
                <MudLink OnClick="CerrarSesion" Style="color: #00C9FF;">Volver a iniciar sesión</MudLink>
            </MudText>
        </div>
    </MudPaper>
</div>

@code {
    private Task CerrarSesion()
    {
        Navigation.NavigateTo("/", forceLoad: true);
        return Task.CompletedTask;
    }
}