@using MudBlazor
@using static MudBlazor.Icons.Material.Filled
@page "/consultar-ingresos"
@attribute [Authorize]


<PageTitle>Consultar Ingresos</PageTitle>

<div style="
    background: linear-gradient(135deg, #f0f4ff, #fafafa);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 40px;
">

    <MudPaper Class="pa-6 mx-auto" MaxWidth="1100px" Elevation="6" Rounded="true">

        <div class="d-flex align-center mb-6">
            <MudIcon Icon="@LocalAtm" Color="Color.Primary" Size="Size.Large" Class="me-2" />
            <MudText Typo="Typo.h4" Color="Color.Primary">Consulta de Ingresos - Parqueadero</MudText>
        </div>

        <MudText Typo="Typo.subtitle1" Class="mb-6" Color="Color.Secondary">
            Seleccione un rango de fechas para ver los ingresos registrados en el sistema del parqueadero.
        </MudText>

        <MudGrid Class="mb-4">
            <MudItem xs="12" sm="4">
                <MudTextField T="string" Label="Desde" InputType="InputType.Date"
                              Variant="Variant.Outlined"
                              Adornment="Adornment.Start"
                              AdornmentIcon="@CalendarMonth" />
            </MudItem>
            <MudItem xs="12" sm="4">
                <MudTextField T="string" Label="Hasta" InputType="InputType.Date"
                              Variant="Variant.Outlined"
                              Adornment="Adornment.Start"
                              AdornmentIcon="@CalendarToday" />
            </MudItem>
            <MudItem xs="12" sm="4" Class="d-flex align-center">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Search" Class="me-2">
                    Consultar
                </MudButton>
                <MudButton Variant="Variant.Outlined" Color="Color.Secondary" StartIcon="@Download">
                    Exportar CSV
                </MudButton>
            </MudItem>
        </MudGrid>

        <MudTextField T="string"
                      Label="Buscar ingreso..."
                      Adornment="Adornment.Start"
                      AdornmentIcon="@Search"
                      Variant="Variant.Outlined"
                      Class="mb-4" />

        <MudTable T="object" Dense="true" Hover="true" Bordered="true" Striped="true">
            <HeaderContent>
                <MudTh>Fecha</MudTh>
                <MudTh>Número</MudTh>
                <MudTh>Cliente</MudTh>
                <MudTh>Descripción</MudTh>
                <MudTh>Medio</MudTh>
                <MudTh Class="text-end">Ingreso</MudTh>
                <MudTh>Estado</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd>2025-09-01</MudTd>
                <MudTd>#001023</MudTd>
                <MudTd>María Pérez</MudTd>
                <MudTd>Estacionamiento - 2 horas</MudTd>
                <MudTd>Tarjeta</MudTd>
                <MudTd Class="text-end">$12.000</MudTd>
                <MudTd>
                    <MudChip T="string" Color="Color.Success" Variant="Variant.Filled">Pagado</MudChip>
                </MudTd>
            </RowTemplate>
            <RowTemplate>
                <MudTd>2025-09-05</MudTd>
                <MudTd>#001030</MudTd>
                <MudTd>Empresa S.A.</MudTd>
                <MudTd>Mensualidad parqueadero</MudTd>
                <MudTd>Transferencia</MudTd>
                <MudTd Class="text-end">$350.000</MudTd>
                <MudTd>
                    <MudChip T="string" Color="Color.Warning" Variant="Variant.Filled">Pendiente</MudChip>
                </MudTd>
            </RowTemplate>
            <RowTemplate>
                <MudTd>2025-09-10</MudTd>
                <MudTd>#001045</MudTd>
                <MudTd>Juan Gómez</MudTd>
                <MudTd>Parqueo nocturno</MudTd>
                <MudTd>Efectivo</MudTd>
                <MudTd Class="text-end">$25.000</MudTd>
                <MudTd>
                    <MudChip T="string" Color="Color.Error" Variant="Variant.Filled">Rechazado</MudChip>
                </MudTd>
            </RowTemplate>
        </MudTable>

        <div class="d-flex justify-center mt-4">
            <MudPagination Page="1" Count="10" />
        </div>
    </MudPaper>
</div>
